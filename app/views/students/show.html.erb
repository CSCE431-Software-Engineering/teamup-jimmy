<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <%= stylesheet_link_tag 'navbar', media: 'all', 'data-turbolinks-track': 'reload' %>
  <title>Jimmy</title>
</head>
<body>
  <%= render 'pages/navbar' %>
  <!-- logo -->
  <!-- intro -->
  <div class="profile-header">
    <div class = "profile-header-inner">
      <div class = "profile-picture-and-buttons">
        <div class = "spacer"></div>
        <div class="profile-picture-div">
          <img class="profile-picture" src="https://i.pinimg.com/736x/d7/1d/1a/d71d1a41b69bbbf2ca2d94b918d86faf.jpg">
        </div>
        <div class = "spacer">
        </div>
      </div>
      <div class="profile-info">
        <p class="profile-name"><%= @student.name %><p>
        <p class = "major-and-class"><%= @major_and_class %></p>
        <div class="socials-bar">
          <% if @student.instagram_url.present? %>
            <%= link_to "https://#{@student.instagram_url}", target: "_blank", class: "social-link", alt: "Instagram Link" do %>
              <%= image_tag asset_path("instagram_icon.png"), class: "social-link", alt: "Instagram Link" %>
            <% end %>
          <% end %>
      
          <% if @student.x_url.present? %>
            <%= link_to "https://#{@student.x_url}", target: "_blank", class: "social-link", alt: "X Link" do %>
              <%= image_tag asset_path("x_icon.png"), class: "social-link", alt: "X Link" %>
            <% end %>
          <% end %>
        </div>
        <div class = "relationship-controls-container">
          <% if @can_send_match_request %> 
            <%= button_to 'Send Match Request', 
            match_path(@match, action_name: 'send_match_request'), 
            method: :patch,
            class: "material-button"%>
          <% end %>
          <% if @can_cancel_match_request %>
            <%= button_to 'Cancel Match Request', 
            match_path(@match, action_name: 'cancel_match_request'), 
            method: :patch,
            class: "material-button"%>
          <% end %>
          <% if @can_accept_match_request %>
            <%= button_to 'Accept Match Request', 
            match_path(@match, action_name: 'accept_match_request'), 
            method: :patch,
            class: "material-button"%>
          <% end %>
          <% if @can_reject_match_request %>
            <%= button_to 'Decline Match Request', 
            match_path(@match, action_name: 'reject_match_request'), 
            method: :patch,
            class: "material-button"%>
          <% end %>
          <% if @can_unmatch %>
            <%= button_to 'Unmatch', 
            match_path(@match, action_name: 'unmatch'), 
            method: :patch,
            class: "material-button"%>
          <% end %>
          <% if @can_block %>
            <%= button_to 'Block User', 
              match_path(@match, action_name: 'block'), 
              method: :patch,
              class: "material-button"%>
            <% end %>
          <% if @can_unblock %>
            <%= button_to 'Unblock User', 
            match_path(@match, action_name: 'unblock'), 
            method: :patch,
            class: "material-button"%>
          <% end %>
        </div>
      </div>
    </div>
  </div>
  <div class="profile-body">
    <div class="profile-body-inner">
      <p class="profile-title">About Me</p>
      <p> <%= @student.biography %></p> 

      <p class="profile-title">Workouts</p>
      <% @current_activities.each do |name|%>
      <li class="profile-body-text"><%=name%></li>
      <%end%>
    </div>
    
  </div>
  
</body>
</html>